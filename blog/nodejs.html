<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js v√† Backend Development - Developer Blog</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h2>DEV BLOG</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html">Trang ch·ªß</a></li>
                <li><a href="../about.html">Gi·ªõi thi·ªáu</a></li>
            </ul>
        </div>
    </nav>

    <section class="article-hero">
        <div class="container">
            <div class="article-header">
                <span class="blog-category">JavaScript</span>
                <h1>Node.js v√† Backend Development</h1>
                <div class="article-meta">
                    <span>üìÖ 24/10/2025</span>
                    <span>‚è±Ô∏è 13 ph√∫t ƒë·ªçc</span>
                </div>
            </div>
        </div>
    </section>

    <section class="article-content">
        <div class="container">
            <article class="article-body">
                <h2>Node.js l√† g√¨?</h2>
                <p>
                    Node.js l√† JavaScript runtime environment ƒë∆∞·ª£c build tr√™n V8 JavaScript engine c·ªßa Chrome. 
                    N√≥ cho ph√©p ch·∫°y JavaScript code outside of browser, enabling JavaScript cho server-side 
                    development. Node.js ƒë∆∞·ª£c create b·ªüi Ryan Dahl v√†o 2009 v√† quickly became m·ªôt trong nh·ªØng 
                    platforms ph·ªï bi·∫øn nh·∫•t cho backend development.
                </p>

                <h2>T·∫°i sao Node.js?</h2>
                <ul>
                    <li><strong>JavaScript everywhere:</strong> D√πng c√πng language cho frontend v√† backend</li>
                    <li><strong>Non-blocking I/O:</strong> Asynchronous v√† event-driven architecture</li>
                    <li><strong>Fast:</strong> V8 engine compiles JavaScript to machine code</li>
                    <li><strong>NPM:</strong> Largest ecosystem of open source libraries</li>
                    <li><strong>Scalable:</strong> T·ªët cho real-time applications</li>
                    <li><strong>Active Community:</strong> Large v√† active developer community</li>
                </ul>

                <h2>Node.js Architecture</h2>
                
                <h3>Event Loop</h3>
                <p>
                    Node.js s·ª≠ d·ª•ng single-threaded event loop model. Thay v√¨ t·∫°o new thread cho m·ªói request, 
                    Node.js handle multiple requests v·ªõi m·ªôt single thread s·ª≠ d·ª•ng non-blocking I/O operations.
                </p>

                <h3>Non-blocking I/O</h3>
                <p>
                    Node.js execute code asynchronously, kh√¥ng block thread khi waiting for I/O operations 
                    (file system, database, network requests).
                </p>
                <pre><code>// Blocking (synchronous)
const fs = require('fs');
const data = fs.readFileSync('file.txt', 'utf8');
console.log(data);
console.log('Done');

// Non-blocking (asynchronous)
fs.readFile('file.txt', 'utf8', (err, data) => {
    if (err) throw err;
    console.log(data);
});
console.log('Done'); // This prints first</code></pre>

                <h2>Getting Started</h2>

                <h3>Creating a Simple Server</h3>
                <pre><code>const http = require('http');

const server = http.createServer((req, res) => {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('Hello World!\n');
});

const PORT = 3000;
server.listen(PORT, () => {
    console.log(`Server running at http://localhost:${PORT}/`);
});</code></pre>

                <h2>Core Modules</h2>

                <h3>fs (File System)</h3>
                <pre><code>const fs = require('fs');

// Read file
fs.readFile('file.txt', 'utf8', (err, data) => {
    if (err) throw err;
    console.log(data);
});

// Write file
fs.writeFile('output.txt', 'Hello Node.js!', (err) => {
    if (err) throw err;
    console.log('File written successfully');
});

// Append to file
fs.appendFile('log.txt', 'New log entry\n', (err) => {
    if (err) throw err;
});

// Delete file
fs.unlink('temp.txt', (err) => {
    if (err) throw err;
    console.log('File deleted');
});</code></pre>

                <h3>path</h3>
                <pre><code>const path = require('path');

const filePath = '/users/john/documents/file.txt';

console.log(path.basename(filePath));  // file.txt
console.log(path.dirname(filePath));   // /users/john/documents
console.log(path.extname(filePath));   // .txt

// Join paths
const fullPath = path.join(__dirname, 'uploads', 'image.jpg');

// Resolve absolute path
const absolute = path.resolve('folder', 'file.txt');</code></pre>

                <h3>os</h3>
                <pre><code>const os = require('os');

console.log('Platform:', os.platform());
console.log('CPU Architecture:', os.arch());
console.log('Total Memory:', os.totalmem());
console.log('Free Memory:', os.freemem());
console.log('Home Directory:', os.homedir());
console.log('Uptime:', os.uptime());</code></pre>

                <h2>Express.js Framework</h2>
                <p>
                    Express l√† minimal v√† flexible Node.js web application framework providing robust features 
                    cho web v√† mobile applications.
                </p>

                <h3>Installation v√† Setup</h3>
                <pre><code>// Install Express
npm install express

// Basic Express app
const express = require('express');
const app = express();

// Middleware
app.use(express.json()); // Parse JSON bodies
app.use(express.urlencoded({ extended: true })); // Parse URL-encoded bodies

// Routes
app.get('/', (req, res) => {
    res.send('Hello Express!');
});

app.get('/api/users', (req, res) => {
    res.json([
        { id: 1, name: 'John' },
        { id: 2, name: 'Jane' }
    ]);
});

app.post('/api/users', (req, res) => {
    const user = req.body;
    // Save user to database
    res.status(201).json(user);
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`Server is running on port ${PORT}`);
});</code></pre>

                <h3>RESTful API Example</h3>
                <pre><code>const express = require('express');
const app = express();

app.use(express.json());

// In-memory database
let users = [
    { id: 1, name: 'John Doe', email: 'john@example.com' },
    { id: 2, name: 'Jane Smith', email: 'jane@example.com' }
];

// GET all users
app.get('/api/users', (req, res) => {
    res.json(users);
});

// GET user by ID
app.get('/api/users/:id', (req, res) => {
    const user = users.find(u => u.id === parseInt(req.params.id));
    if (!user) return res.status(404).json({ message: 'User not found' });
    res.json(user);
});

// POST create user
app.post('/api/users', (req, res) => {
    const user = {
        id: users.length + 1,
        name: req.body.name,
        email: req.body.email
    };
    users.push(user);
    res.status(201).json(user);
});

// PUT update user
app.put('/api/users/:id', (req, res) => {
    const user = users.find(u => u.id === parseInt(req.params.id));
    if (!user) return res.status(404).json({ message: 'User not found' });
    
    user.name = req.body.name;
    user.email = req.body.email;
    res.json(user);
});

// DELETE user
app.delete('/api/users/:id', (req, res) => {
    const index = users.findIndex(u => u.id === parseInt(req.params.id));
    if (index === -1) return res.status(404).json({ message: 'User not found' });
    
    users.splice(index, 1);
    res.status(204).send();
});

app.listen(3000);</code></pre>

                <h3>Middleware</h3>
                <pre><code>// Logger middleware
const logger = (req, res, next) => {
    console.log(`${req.method} ${req.url}`);
    next();
};

// Authentication middleware
const authenticate = (req, res, next) => {
    const token = req.headers.authorization;
    if (!token) {
        return res.status(401).json({ message: 'No token provided' });
    }
    // Verify token
    next();
};

// Error handling middleware
const errorHandler = (err, req, res, next) => {
    console.error(err.stack);
    res.status(500).json({ message: 'Something went wrong!' });
};

// Use middleware
app.use(logger);
app.use('/api/protected', authenticate);
app.use(errorHandler);</code></pre>

                <h2>Working v·ªõi Databases</h2>

                <h3>MongoDB v·ªõi Mongoose</h3>
                <pre><code>const mongoose = require('mongoose');

// Connect to MongoDB
mongoose.connect('mongodb://localhost/myapp', {
    useNewUrlParser: true,
    useUnifiedTopology: true
});

// Define schema
const userSchema = new mongoose.Schema({
    name: { type: String, required: true },
    email: { type: String, required: true, unique: true },
    age: Number,
    createdAt: { type: Date, default: Date.now }
});

// Create model
const User = mongoose.model('User', userSchema);

// Create user
const createUser = async () => {
    const user = new User({
        name: 'John Doe',
        email: 'john@example.com',
        age: 30
    });
    await user.save();
};

// Find users
const findUsers = async () => {
    const users = await User.find();
    return users;
};

// Find by ID
const findById = async (id) => {
    const user = await User.findById(id);
    return user;
};

// Update user
const updateUser = async (id, data) => {
    const user = await User.findByIdAndUpdate(id, data, { new: true });
    return user;
};

// Delete user
const deleteUser = async (id) => {
    await User.findByIdAndDelete(id);
};</code></pre>

                <h2>Environment Variables</h2>
                <pre><code>// Install dotenv
npm install dotenv

// .env file
PORT=3000
DB_URL=mongodb://localhost/myapp
JWT_SECRET=mysecretkey

// Use in code
require('dotenv').config();

const PORT = process.env.PORT || 3000;
const DB_URL = process.env.DB_URL;
const JWT_SECRET = process.env.JWT_SECRET;</code></pre>

                <h2>NPM - Node Package Manager</h2>
                <pre><code>// Initialize project
npm init -y

// Install package
npm install express
npm install mongoose

// Install dev dependencies
npm install --save-dev nodemon

// Install globally
npm install -g npm

// Scripts in package.json
{
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "test": "jest"
  }
}

// Run scripts
npm start
npm run dev</code></pre>

                <h2>Async/Await v·ªõi Node.js</h2>
                <pre><code>const fs = require('fs').promises;

// Read file with async/await
async function readFile() {
    try {
        const data = await fs.readFile('file.txt', 'utf8');
        console.log(data);
    } catch (error) {
        console.error('Error reading file:', error);
    }
}

// Fetch API example
const fetch = require('node-fetch');

async function fetchUsers() {
    try {
        const response = await fetch('https://api.example.com/users');
        const users = await response.json();
        return users;
    } catch (error) {
        console.error('Error fetching users:', error);
    }
}</code></pre>

                <h2>Best Practices</h2>
                <ul>
                    <li>Use async/await thay v√¨ callbacks</li>
                    <li>Handle errors properly v·ªõi try-catch</li>
                    <li>Use environment variables cho sensitive data</li>
                    <li>Implement proper logging</li>
                    <li>Use middleware cho reusable logic</li>
                    <li>Validate input data</li>
                    <li>Use clustering cho production</li>
                    <li>Monitor application performance</li>
                    <li>Write tests cho APIs</li>
                </ul>

                <h2>K·∫øt lu·∫≠n</h2>
                <p>
                    Node.js ƒë√£ changed JavaScript landscape, enabling full-stack JavaScript development. 
                    V·ªõi non-blocking I/O, event-driven architecture, v√† huge ecosystem, Node.js l√† excellent 
                    choice cho building scalable network applications. Combined v·ªõi Express, MongoDB, v√† 
                    modern JavaScript features, b·∫°n c√≥ th·ªÉ build powerful backend applications efficiently.
                </p>

                <a href="../index.html" class="back-link">‚Üê Quay l·∫°i trang ch·ªß</a>
            </article>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Developer Blog. All rights reserved.</p>
            <p>Made with ‚ù§Ô∏è and code</p>
        </div>
    </footer>
</body>
</html>
